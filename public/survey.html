<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>
<body>
    <div class="card">
        <div class="card-header">
          Friend Finder
        </div>
        <div class="card-body">
          <h5 class="card-title">About You</h5>
          <div class="input-group mb-3">
            <input id="name"type="text" class="form-control" placeholder="Full Name" aria-label="Username" aria-describedby="username" 
            id="name">
          </div>
          
          <div class="input-group mb-3">
            <input id="photo" type="text" class="form-control" placeholder="Link to Photo Image" aria-label="image-url" aria-describedby="image-url"
            id="photo">
            </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to eat healthy.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q1">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>
          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to build computer games using javascript.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q2">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 3</h3>
          <p>I like to cook.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q3">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 4</h3>
          <p>I like to go for walks outside.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q4">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to go to parties.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q5">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to go to concerts.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q6">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to drink coffee.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q7">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to travel.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q8">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to fill out surveys online.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q9">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>

          <h3 class="card-text" style="line-height: 2">Question 2</h3>
          <p>I like to find friends.</p>
          <div class="input-group mb-3">
              <select class="chosen-select questions" id="q10">
                  <option value="default">Select an Option</option>
                  <option value="1">1 (Strongly Disagree)</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5 (Strongly Agree)</option>
              </select>
          </div>
          
          <button type="submit" class="btn btn-primary submit">Submit</button>
        </div>
      </div>

      <div>
          <h1>Your New Friend is:</h1>
      </div>


</body>

</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">
    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file
  
    $(".submit").on("click", function(event) {
      event.preventDefault();
  
      // Here we grab the form elements
      var newFriend = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [$("#q1").val(),
        $("#q2").val(),
        $("#q3").val(),
        $("#q4").val(),$("#q5").val(),
        $("#q6").val(),
        $("#q7").val(),
        $("#q8").val(),
        $("#q9").val(),
        $("#q10").val(),]
          
      };
      console.log(newFriend);
  
      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.
  
      $.post("/api/friends", newFriend,
        function(data) {
            console.log("You are a new friend");
        }
  );
    });
  
  </script>
  